{"ast":null,"code":"import _objectWithoutProperties from \"/mnt/d/projects/react-auth0/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/mnt/d/projects/react-auth0/src/PrivateRoute.js\";\nimport React from 'react';\nimport { Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nfunction PrivateRoute(_ref) {\n  var Component = _ref.component,\n      auth = _ref.auth,\n      scopes = _ref.scopes,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"auth\", \"scopes\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      //redirect to login if not login\n      if (!auth.isAuthenticated()) return auth.login(); // display message if user lack scope\n\n      if (scopes.length > 0 && auth.userHasScopes(scopes)) {\n        return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"You need following scope(s) to view the page:(\\\" \\\")\", scopes.join(\",\"), \".\");\n      }\n\n      if (scopes.length > 0 && auth.userHasScopes(scopes)) {\n        return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, \"You need following scope(s) to view the page:(\\\" \\\")\", scopes.join(\",\"), \".\");\n      } // render component\n\n\n      return React.createElement(Component, Object.assign({\n        auth: auth\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n}\n\nPrivateRoute.prototype = {\n  Component: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  scopes: PropTypes.array\n};\nPrivateRoute.defaultProps = {\n  scopes: []\n};\nexport default PrivateRoute;","map":{"version":3,"sources":["/mnt/d/projects/react-auth0/src/PrivateRoute.js"],"names":["React","Route","PropTypes","PrivateRoute","Component","component","auth","scopes","rest","props","isAuthenticated","login","length","userHasScopes","join","prototype","func","isRequired","object","array","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,kBAApB;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,SAASC,YAAT,OAAgE;AAAA,MAA/BC,SAA+B,QAAzCC,SAAyC;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAhBC,MAAgB,QAAhBA,MAAgB;AAAA,MAANC,IAAM;;AAE5D,SACI,oBAAC,KAAD,oBACQA,IADR;AAEI,IAAA,MAAM,EAAE,gBAAAC,KAAK,EAAE;AACX;AACA,UAAG,CAACH,IAAI,CAACI,eAAL,EAAJ,EAA4B,OAAOJ,IAAI,CAACK,KAAL,EAAP,CAFjB,CAGX;;AACA,UAAGJ,MAAM,CAACK,MAAP,GAAc,CAAd,IAAmBN,IAAI,CAACO,aAAL,CAAmBN,MAAnB,CAAtB,EAAiD;AAC/C,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEAEKA,MAAM,CAACO,IAAP,CAAY,GAAZ,CAFL,MADJ;AAMD;;AACD,UAAGP,MAAM,CAACK,MAAP,GAAc,CAAd,IAAmBN,IAAI,CAACO,aAAL,CAAmBN,MAAnB,CAAtB,EAAiD;AAC/C,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mEAEKA,MAAM,CAACO,IAAP,CAAY,GAAZ,CAFL,MADJ;AAMD,OAnBU,CAqBX;;;AACA,aAAO,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAER;AAAjB,SAA2BG,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACH,KAzBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ;AA8BH;;AAEDN,YAAY,CAACY,SAAb,GAAuB;AACnBX,EAAAA,SAAS,EAACF,SAAS,CAACc,IAAV,CAAeC,UADN;AAEnBX,EAAAA,IAAI,EAACJ,SAAS,CAACgB,MAAV,CAAiBD,UAFH;AAGnBV,EAAAA,MAAM,EAACL,SAAS,CAACiB;AAHE,CAAvB;AAMAhB,YAAY,CAACiB,YAAb,GAA0B;AACtBb,EAAAA,MAAM,EAAC;AADe,CAA1B;AAIA,eAAeJ,YAAf","sourcesContent":["import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction PrivateRoute({component:Component,auth,scopes,...rest}){\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props=>{\r\n                //redirect to login if not login\r\n                if(!auth.isAuthenticated()) return auth.login();\r\n                // display message if user lack scope\r\n                if(scopes.length>0 && auth.userHasScopes(scopes)){\r\n                  return(\r\n                      <h1>\r\n                          You need following scope(s) to view the page:(\" \")\r\n                          {scopes.join(\",\")}.\r\n                      </h1>\r\n                  );\r\n                }\r\n                if(scopes.length>0 && auth.userHasScopes(scopes)){\r\n                  return(\r\n                      <h1>\r\n                          You need following scope(s) to view the page:(\" \")\r\n                          {scopes.join(\",\")}.\r\n                      </h1>\r\n                  );\r\n                }\r\n\r\n                // render component\r\n                return <Component auth={auth} {...props}/>\r\n            }}\r\n        />\r\n    );\r\n\r\n}\r\n\r\nPrivateRoute.prototype={\r\n    Component:PropTypes.func.isRequired,\r\n    auth:PropTypes.object.isRequired,\r\n    scopes:PropTypes.array\r\n}\r\n\r\nPrivateRoute.defaultProps={\r\n    scopes:[]\r\n}\r\n\r\nexport default PrivateRoute;\r\n"]},"metadata":{},"sourceType":"module"}