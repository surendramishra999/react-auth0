{"ast":null,"code":"import _classCallCheck from \"/mnt/d/projects/react-auth0/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport auth0 from 'auth0-js';\n\nvar Auth = function Auth(history) {\n  var _this = this;\n\n  _classCallCheck(this, Auth);\n\n  this.login = function () {\n    _this.auth0.authorize();\n  };\n\n  this.handleAuthentication = function () {\n    _this.auth0.parseHash(function (err, authResult) {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        _this.setSession(authResult);\n\n        _this.history.push('/');\n      } else if (err) {\n        _this.history.push('/');\n\n        alert(\"Error :\".concat(err.error, \". Check console log for more details\"));\n        console.log(err);\n      }\n    });\n  };\n\n  this.setSession = function (authResult) {\n    //set expire time\n    var expireAt = JSON.stringify(authResult.expires_in * 1000 + new Date().getTime());\n  };\n\n  this.history = history;\n  this.auth0 = new auth0.WebAuth({\n    domain: process.env.REACT_APP_AUTH0_DOMAIN,\n    clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\n    redirectUri: process.env.REACT_APP_AUTH0_CALLBACK_URL,\n    responseType: \"token id_token\",\n    scope: \"openid profile email\"\n  });\n};\n\nexport { Auth as default };","map":{"version":3,"sources":["/mnt/d/projects/react-auth0/src/Auth/Auth.js"],"names":["auth0","Auth","history","login","authorize","handleAuthentication","parseHash","err","authResult","accessToken","idToken","setSession","push","alert","error","console","log","expireAt","JSON","stringify","expires_in","Date","getTime","WebAuth","domain","process","env","REACT_APP_AUTH0_DOMAIN","clientID","REACT_APP_AUTH0_CLIENT_ID","redirectUri","REACT_APP_AUTH0_CALLBACK_URL","responseType","scope"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,UAAlB;;IAGqBC,I,GACnB,cAAYC,OAAZ,EAAoB;AAAA;;AAAA;;AAAA,OAWpBC,KAXoB,GAWb,YAAI;AACT,IAAA,KAAI,CAACH,KAAL,CAAWI,SAAX;AACD,GAbmB;;AAAA,OAepBC,oBAfoB,GAeC,YAAI;AACvB,IAAA,KAAI,CAACL,KAAL,CAAWM,SAAX,CAAqB,UAACC,GAAD,EAAKC,UAAL,EAAkB;AACrC,UAAGA,UAAU,IAAIA,UAAU,CAACC,WAAzB,IAAwCD,UAAU,CAACE,OAAtD,EAA8D;AAC3D,QAAA,KAAI,CAACC,UAAL,CAAgBH,UAAhB;;AACA,QAAA,KAAI,CAACN,OAAL,CAAaU,IAAb,CAAkB,GAAlB;AACF,OAHD,MAGM,IAAGL,GAAH,EAAO;AACX,QAAA,KAAI,CAACL,OAAL,CAAaU,IAAb,CAAkB,GAAlB;;AACAC,QAAAA,KAAK,kBAAWN,GAAG,CAACO,KAAf,0CAAL;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACD;AACF,KATD;AAUD,GA1BmB;;AAAA,OA4BpBI,UA5BoB,GA4BT,UAAAH,UAAU,EAAE;AACrB;AACA,QAAMS,QAAQ,GAACC,IAAI,CAACC,SAAL,CAAeX,UAAU,CAACY,UAAX,GAAwB,IAAxB,GAA+B,IAAIC,IAAJ,GAAWC,OAAX,EAA9C,CAAf;AACD,GA/BmB;;AACnB,OAAKpB,OAAL,GAAaA,OAAb;AACA,OAAKF,KAAL,GAAW,IAAIA,KAAK,CAACuB,OAAV,CAAkB;AACzBC,IAAAA,MAAM,EAACC,OAAO,CAACC,GAAR,CAAYC,sBADM;AAEzBC,IAAAA,QAAQ,EAACH,OAAO,CAACC,GAAR,CAAYG,yBAFI;AAGzBC,IAAAA,WAAW,EAACL,OAAO,CAACC,GAAR,CAAYK,4BAHC;AAIzBC,IAAAA,YAAY,EAAC,gBAJY;AAKzBC,IAAAA,KAAK,EAAC;AALmB,GAAlB,CAAX;AAOA,C;;SAVkBhC,I","sourcesContent":["import auth0 from 'auth0-js';\r\n\r\n\r\nexport default class Auth{\r\n  constructor(history){\r\n   this.history=history;\r\n   this.auth0=new auth0.WebAuth({\r\n       domain:process.env.REACT_APP_AUTH0_DOMAIN,\r\n       clientID:process.env.REACT_APP_AUTH0_CLIENT_ID,\r\n       redirectUri:process.env.REACT_APP_AUTH0_CALLBACK_URL,\r\n       responseType:\"token id_token\",\r\n       scope:\"openid profile email\"\r\n   });\r\n  }\r\n\r\n  login =()=>{\r\n    this.auth0.authorize();\r\n  }\r\n\r\n  handleAuthentication=()=>{\r\n    this.auth0.parseHash((err,authResult)=>{\r\n      if(authResult && authResult.accessToken && authResult.idToken){\r\n         this.setSession(authResult);\r\n         this.history.push('/');\r\n      }else if(err){\r\n        this.history.push('/');\r\n        alert(`Error :${err.error}. Check console log for more details`);\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  setSession=authResult=>{\r\n    //set expire time\r\n    const expireAt=JSON.stringify(authResult.expires_in * 1000 + new Date().getTime());\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}